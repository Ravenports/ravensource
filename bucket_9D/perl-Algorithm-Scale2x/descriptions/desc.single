Generic implementation of the Scale2x algorithm

