DEF[PORTVERSION]=	EXTRACT_INFO(GSTREAMER1_VERSION)
DEF[GST_VERSION]=	EXTRACT_INFO(GSTREAMER1_GST)
DEF[PLUGIN]=		x
DEF[PLUGIN_DESC]=	XImageSrc
DEF[FPC]=		x11/gstreamer1-plugins-x
# ----------------------------------------------------------------------------

NAMEBASE=		gstreamer1-plugins-${PLUGIN}
VERSION=		${PORTVERSION}
KEYWORDS=		multimedia x11
VARIANTS=		standard
SDESC[standard]=	GStreamer1 ${PLUGIN_DESC} plugin
HOMEPAGE=		https://gstreamer.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://gstreamer.freedesktop.org/src/gst-plugins-good/
DISTFILE[1]=		gst-plugins-good-${PORTVERSION}.tar.xz:main

SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

LICENSE=		LGPL20+:single
LICENSE_FILE=		LGPL20+:{{WRKSRC}}/COPYING
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/sys/ximage/gstximagesrc.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		${FPC}

BUILD_DEPENDS=		libgpg-error:dev:standard
			gstreamer1:dev:standard
			gstreamer1-plugins-good:primary:standard
			gstreamer1-plugins-base:dev:standard
BUILDRUN_DEPENDS=	gstreamer1-plugins-base:primary:standard
			gstreamer1:primary:standard

USES=			gmake pkgconfig jpeg meson
XORG_COMPONENTS=	x11 xfixes xdamage xext
GNOME_COMPONENTS=	glib
# GNOME_COMPONENTS=introspection disabled on gstreamer1
MESON_ARGS=		-Dalpha=disabled
			-Dapetag=disabled
			-Daudiofx=disabled
			-Daudioparsers=disabled
			-Dauparse=disabled
			-Dautodetect=disabled
			-Davi=disabled
			-Dcutter=disabled
			-Ddebugutils=disabled
			-Ddeinterlace=disabled
			-Ddtmf=disabled
			-Deffectv=disabled
			-Dequalizer=disabled
			-Dflv=disabled
			-Dflx=disabled
			-Dgoom=disabled
			-Dgoom2k1=disabled
			-Dicydemux=disabled
			-Did3demux=disabled
			-Dimagefreeze=disabled
			-Dinterleave=disabled
			-Disomp4=disabled
			-Dlaw=disabled
			-Dlevel=disabled
			-Dmatroska=disabled
			-Dmonoscope=disabled
			-Dmultifile=disabled
			-Dmultipart=disabled
			-Dreplaygain=disabled
			-Drtp=disabled
			-Drtpmanager=disabled
			-Drtsp=disabled
			-Dshapewipe=disabled
			-Dsmpte=disabled
			-Dspectrum=disabled
			-Dudp=disabled
			-Dvideobox=disabled
			-Dvideocrop=disabled
			-Dvideofilter=disabled
			-Dvideomixer=disabled
			-Dwavenc=disabled
			-Dwavparse=disabled
			-Dy4m=disabled
			-Daalib=disabled
			-Dbz2=disabled
			-Dcairo=disabled
			-Ddirectsound=disabled
			-Ddv=disabled
			-Ddv1394=disabled
			-Dflac=disabled
			-Dgdk-pixbuf=disabled
			-Dgtk3=disabled
			-Djack=disabled
			-Djpeg=disabled
			-Dlame=disabled
			-Dlibcaca=disabled
			-Dmpg123=disabled
			-Doss=disabled
			-Doss4=disabled
			-Dosxaudio=disabled
			-Dosxvideo=disabled
			-Dpng=disabled
			-Dpulse=disabled
			-Dqt5=disabled
			-Dshout2=disabled
			-Dsoup=disabled
			-Dspeex=disabled
			-Dtaglib=disabled
			-Dtwolame=disabled
			-Dvpx=disabled
			-Dwaveform=disabled
			-Dwavpack=disabled
			-Drpicamsrc=disabled
			-Drpi-header-dir=disabled
			-Drpi-lib-dir=disabled
			-Dximagesrc=enabled
			-Dximagesrc-xshm=disabled
			-Dximagesrc-xfixes=disabled
			-Dximagesrc-xdamage=disabled
			-Dv4l2=disabled
			-Dv4l2-probe=false
			-Dv4l2-libv4l2=disabled
			-Dv4l2-gudev=disabled
			-Ddoc=disabled
			-Dnls=disabled
			-Dexamples=disabled
			-Dtests=disabled
			-Dorc=disabled
			-Dadaptivedemux2=disabled
			-Dxingmux=disabled
DISTNAME=		gst-plugins-good-${PORTVERSION}
PLIST_SUB=		GSTVER=${GST_VERSION}
			PLUGIN=${PLUGIN}
