DEF[PORTVERSION]=	0.27.1
# ----------------------------------------------------------------------------

NAMEBASE=		esbuild
VERSION=		${PORTVERSION}
KEYWORDS=		devel www
VARIANTS=		std
SDESC[std]=		Extremely fast bundler for the web
HOMEPAGE=		https://esbuild.github.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main cr01
SITES[main]=		GITHUB/evanw:esbuild:v${PORTVERSION}
SITES[cr01]=		GITHUB/golang:sys:c0bba94af5f8:vendor/golang.org/x/sys
DISTFILE[1]=		generated:main

DISTFILE[2]=		generated:cr01
DIST_SUBDIR=		golang/esbuild
DF_INDEX=		1 2

SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

FPC_EQUIVALENT=		devel/esbuild

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE.md
LICENSE_SCHEME=		solo

BUILD_DEPENDS=		golang:single:std

do-build:
	cd ${WRKSRC} && \
		${SETENV} CGO_ENABLED=0 \
		go build -ldflags="-s -w" -trimpath -mod=vendor -modcacherw ./cmd/esbuild

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/esbuild ${STAGEDIR}${PREFIX}/bin
